{"version":3,"sources":["../../webpack/bootstrap","../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../lib/App.js","../lib/index.js","index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_defineProperty","obj","configurable","writable","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","cookieLawStates","startup","fadeOut","el","speed","style","opacity","fade","display","setTimeout","getCookie","cookieValue","document","cookie","match","decodeURI","setCookie","exdate","Date","setDate","getDate","parseInt","cValue","encodeURI","toUTCString","removeCookies","split","forEach","replace","localStorage","clear","initCookieBar","console","log","length","window","undefined","cookieBarConfig","target","arguments","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","background","color","bottom","width","fontFamily","fontSize","text","agreeText","disableText","element","createElement","innerHTML","position","getElementsByTagName","appendChild","getElementById","addEventListener","confirm","currentCookieSelection","checkEurope","XMLHttpRequest","open","onreadystatechange","readyState","clearTimeout","xmlHttpTimeout","status","country","JSON","parse","responseText","country_code","indexOf","abort","send"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,oBAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,qBAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,oBAAoBQ,EAAIF,EAGxBN,oBAAoBS,EAAIV,EAGxBC,oBAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,oBAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,oBAAoBkB,EAAI,SAAShB,GACX,qBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,oBAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,oBAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,oBAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,oBAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,oBAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,oBAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,oBAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,oBAAoBkC,EAAI,GAIjBlC,oBAAoBA,oBAAoBmC,EAAI,G,+DClFtC,SAASC,gBAAgBC,EAAKV,EAAKN,GAYhD,OAXIM,KAAOU,EACTvB,OAAOC,eAAesB,EAAKV,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZsB,cAAc,EACdC,UAAU,IAGZF,EAAIV,GAAON,EAGNgB,ECVT,SAASG,QAAQV,EAAQW,GAAkB,IAAIC,EAAO5B,OAAO4B,KAAKZ,GAAS,GAAIhB,OAAO6B,sBAAuB,CAAE,IAAIC,EAAU9B,OAAO6B,sBAAsBb,GAAaW,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOhC,OAAOiC,yBAAyBjB,EAAQgB,GAAK9B,eAAgB0B,EAAKM,KAAKC,MAAMP,EAAME,GAAY,OAAOF,E,OAO9U,IAAIQ,EAAkB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC3LC,GAAU,EAQVC,QAAU,SAAiBC,EAAIC,GACjC,IAAInB,EAAIkB,EAAGE,MACXpB,EAAEqB,QAAU,EAEZ,SAAUC,QACPtB,EAAEqB,SAAW,IAAO,GAAMrB,EAAEuB,QAAU,OAASC,WAAWF,KAAMH,EAAQ,IAD3E,IAUEM,UAAY,WACd,IAAIC,EAAcC,SAASC,OAAOC,MAAM,8BAExC,OAAmB,MAAfH,OACF,EAEOI,UAAUJ,EAAY,KAW7BK,UAAY,SAAmBvD,EAAMU,GACvC,IACI8C,EAAS,IAAIC,KACjBD,EAAOE,QAAQF,EAAOG,UAAYC,SAFrB,KAGb,IAAIC,EAASC,UAAUpD,GAAiC,aAAe8C,EAAOO,cAAgB,UAC9FZ,SAASC,OAASpD,EAAO,IAAM6D,GAQ7BG,cAAgB,WAElBb,SAASC,OAAOa,MAAM,KAAKC,SAAQ,SAAUpE,GAC3CqD,SAASC,OAAStD,EAAEqE,QAAQ,MAAO,IAAIA,QAAQ,MAAO,cAAe,IAAIV,MAAOM,cAAgB,cAGlGK,cAAgBA,aAAaC,SAQ3BC,cAAgB,YAClBC,QAAQC,IAAI,mBAERrB,SAASC,OAAOqB,OAAS,GAAKC,OAAON,aAAaK,OAAS,QAG5CE,IAFF1B,cAGbT,GAAU,GAGZA,GAAU,EAGZ,GAAKA,EAAL,CAIA,IAAIoC,EAzFN,SAAuBC,GAAU,IAAK,IAAIpF,EAAI,EAAGA,EAAIqF,UAAUL,OAAQhF,IAAK,CAAE,IAAIsF,EAAyB,MAAhBD,UAAUrF,GAAaqF,UAAUrF,GAAK,GAAQA,EAAI,EAAKoC,QAAQ1B,OAAO4E,IAAS,GAAMb,SAAQ,SAAUlD,GAAOS,gBAAgBoD,EAAQ7D,EAAK+D,EAAO/D,OAAsBb,OAAO6E,0BAA6B7E,OAAO8E,iBAAiBJ,EAAQ1E,OAAO6E,0BAA0BD,IAAmBlD,QAAQ1B,OAAO4E,IAASb,SAAQ,SAAUlD,GAAOb,OAAOC,eAAeyE,EAAQ7D,EAAKb,OAAOiC,yBAAyB2C,EAAQ/D,OAAe,OAAO6D,EAyFrfK,CAAc,CAClCC,WAAY,QACZC,MAAO,QACPC,OAAQ,EACRC,MAAO,OACPC,WAAY,YACZC,SAAU,OACVC,KAAM,kGACNC,UAAW,mBACXC,YAAa,mBACZjB,OAAOE,iBAENgB,EAAUzC,SAAS0C,cAAc,OAErCD,EAAQE,UAAY,qGAAiHlB,EAAgBa,KAAO,wNAAoOb,EAAgBc,UAAY,oEAA2Ed,EAAgBQ,MAAQ,uBAAyBR,EAAgBe,YAAc,mBACtjBC,EAAQhD,MAAMmD,SAAW,QACzBH,EAAQhD,MAAMuC,WAAaP,EAAgBO,WAC3CS,EAAQhD,MAAMwC,MAAQR,EAAgBQ,MACtCQ,EAAQhD,MAAMyC,OAAST,EAAgBS,OACvCO,EAAQhD,MAAM0C,MAAQV,EAAgBU,MACtCM,EAAQhD,MAAM2C,WAAaX,EAAgBW,WAC3CK,EAAQhD,MAAM4C,SAAWZ,EAAgBY,SACzCrC,SAAS6C,qBAAqB,QAAQ,GAAGC,YAAYL,GACjCzC,SAAS+C,eAAe,kBAC9BC,iBAAiB,SAAS,WACtC5C,UAAU,eAAgB,gBAC1Bd,QAAQmD,EAAS,QAECzC,SAAS+C,eAAe,kBAC9BC,iBAAiB,SAAS,YAItB,IAFFzB,OAAO0B,QADX,oDAIRpC,gBACAT,UAAU,eAAgB,kBAC1Bd,QAAQmD,EAAS,WChIR,ID0Ia,WAE1B,IAAIS,EAAyBpD,YAe7B,GAP+B,mBAA3BoD,IACFrC,gBACAT,UAAU,eAAgB,wBAKGoB,IAA3B0B,EAAJ,CAKA,IAAIC,EAAc,IAAIC,eACtBD,EAAYE,KAAK,MAAO,+BAA+B,GAEvDF,EAAYG,mBAAqB,WAE/B,GAA+B,IAA3BH,EAAYI,WAAhB,CAOA,GAFAC,aAAaC,GAEc,MAAvBN,EAAYO,OAAgB,CAC9B,IAAIC,EAAUC,KAAKC,MAAMV,EAAYW,cAAcC,aAE/C3E,EAAgB4E,QAAQL,IAAY,EACtCtE,GAAU,EAGVe,UAAU,eAAgB,qBAI1BgB,QAAQC,IAAI,SACZhC,GAAU,EAId8B,kBAQF,IAAIsC,EAAiB5D,YAAW,WAC9BuB,QAAQC,IAAI,0CAGZ8B,EAAYG,mBAAqB,aAGjCH,EAAYc,QAEZ5E,GAAU,EACV8B,kBACC,MACHgC,EAAYe,SE/MdlE,SAASgD,iBAAiB,oBAAoB,WAC1C7B","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _defineProperty from \"/Users/sergeyzubov/Desktop/maground/cookie-bar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*\n * Available languages array\n */\nvar cookieLawStates = ['AT', 'BE', 'BG', 'BR', 'CY', 'CZ', 'DE', 'DK', 'EE', 'EL', 'ES', 'FI', 'FR', 'GB', 'HR', 'HU', 'IE', 'IT', 'LT', 'LU', 'LV', 'MT', 'NL', 'PL', 'PT', 'RO', 'SE', 'SI', 'SK'];\nvar startup = false;\n/**\n * FadeOut effect\n * @param {HTMLElement} el - Element\n * @param {number} speed - effect duration\n * @return null\n */\n\nvar fadeOut = function fadeOut(el, speed) {\n  var s = el.style;\n  s.opacity = 1;\n\n  (function fade() {\n    (s.opacity -= 0.1) < 0.1 ? s.display = 'none' : setTimeout(fade, speed / 10);\n  })();\n};\n/**\n * Get MoveToDigital Cookie Bar cookie if available\n * @return {string} cookie value\n */\n\n\nvar getCookie = function getCookie() {\n  var cookieValue = document.cookie.match(/(;)?cookiestatus=([^;]*);?/);\n\n  if (cookieValue == null) {\n    return undefined;\n  } else {\n    return decodeURI(cookieValue[2]);\n  }\n};\n/**\n * Write MoveToDigital Cookie Bar's cookie when user accepts cookies :)\n * @param {string} name - cookie name\n * @param {string} value - cookie value\n * @return null\n */\n\n\nvar setCookie = function setCookie(name, value) {\n  var exdays = 30;\n  var exdate = new Date();\n  exdate.setDate(exdate.getDate() + parseInt(exdays));\n  var cValue = encodeURI(value) + (exdays === null ? '' : '; expires=' + exdate.toUTCString() + ';path=/');\n  document.cookie = name + '=' + cValue;\n};\n/**\n * Remove all the cookies and empty localStorage when user refuses cookies\n * @return null\n */\n\n\nvar removeCookies = function removeCookies() {\n  // Clear cookies\n  document.cookie.split(';').forEach(function (c) {\n    document.cookie = c.replace(/^ +/, '').replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\n  }); // Clear localStorage\n\n  localStorage && localStorage.clear();\n};\n/**\n * Render cookie bar <div> component\n * @return null\n */\n\n\nvar initCookieBar = function initCookieBar() {\n  console.log('init cookie bar'); // If at least a cookie or localstorage is set, then STARTUP\n\n  if (document.cookie.length > 0 || window.localStorage.length > 0) {\n    var accepted = getCookie();\n\n    if (accepted === undefined) {\n      startup = true;\n    }\n  } else {\n    startup = false;\n  }\n\n  if (!startup) {\n    return;\n  }\n\n  var cookieBarConfig = _objectSpread({\n    background: 'black',\n    color: 'white',\n    bottom: 0,\n    width: '100%',\n    fontFamily: 'system-ui',\n    fontSize: '16px',\n    text: 'We use cookies to improve your experience on our site and to show you personalised advertising.',\n    agreeText: 'I\\'m OK with that',\n    disableText: 'Disable cookies'\n  }, window.cookieBarConfig);\n\n  var element = document.createElement('div'); // \" To find out more, read our <a style='border-bottom: 1px solid \" + cookieBarConfig.color + \"; cursor: pointer;'>privacy policy</a> and <a style='border-bottom: 1px solid \" + cookieBarConfig.color + \"; cursor: pointer;'>cookie policy</a>.\"\n\n  element.innerHTML = \"\" + \"<div style='display: flex;align-items: center;justify-content: space-between;padding: 14px'>\" + \"<span>\" + cookieBarConfig.text + \"</span>\" + \"<div style='display: flex;align-items: center;'>\" + \"<button id='cookie-confirm' style='border-radius: 0; background: white; color: black;border: none;padding: 6px 16px 6px 16px; cursor: pointer; margin: 0 6px'>\" + cookieBarConfig.agreeText + \"</button>\" + \" <a id='cookie-disable' style='border-bottom: 1px solid \" + cookieBarConfig.color + \"; cursor: pointer;'>\" + cookieBarConfig.disableText + \"</a>\" + \"</div>\" + \"</div>\";\n  element.style.position = 'fixed';\n  element.style.background = cookieBarConfig.background;\n  element.style.color = cookieBarConfig.color;\n  element.style.bottom = cookieBarConfig.bottom;\n  element.style.width = cookieBarConfig.width;\n  element.style.fontFamily = cookieBarConfig.fontFamily;\n  element.style.fontSize = cookieBarConfig.fontSize;\n  document.getElementsByTagName('body')[0].appendChild(element);\n  var confirmButton = document.getElementById('cookie-confirm');\n  confirmButton.addEventListener('click', function () {\n    setCookie('cookiestatus', 'allow-cookie');\n    fadeOut(element, 150);\n  });\n  var disableButton = document.getElementById('cookie-disable');\n  disableButton.addEventListener('click', function () {\n    var txt = 'Are you sure that you want to disable cookies?';\n    var confirm = window.confirm(txt);\n\n    if (confirm === true) {\n      removeCookies();\n      setCookie('cookiestatus', 'disable-cookie');\n      fadeOut(element, 150);\n    }\n  });\n};\n/**\n * Initial cookie script\n * @return null\n */\n\n\nexport var setupCookieBar = function setupCookieBar() {\n  // Get the users current cookie selection\n  var currentCookieSelection = getCookie();\n  /**\n   * If cookies are disallowed, delete all the cookies at every refresh\n   * @param null\n   * @return null\n   */\n  // eslint-disable-next-line eqeqeq\n\n  if (currentCookieSelection === 'disable-cookie') {\n    removeCookies();\n    setCookie('cookiestatus', 'disable-cookie');\n  } // Stop further execution,\n  // if the user already allowed / disallowed cookie usage.\n\n\n  if (currentCookieSelection !== undefined) {\n    return;\n  } // If the user is in EU, then STARTUP\n\n\n  var checkEurope = new XMLHttpRequest();\n  checkEurope.open('GET', 'https://freegeoip.app/json/', true);\n\n  checkEurope.onreadystatechange = function () {\n    // Don't process anything else besides finished requests.\n    if (checkEurope.readyState !== 4) {\n      return;\n    } // Immediately clear timeout handler in order to avoid multiple executions.\n\n\n    clearTimeout(xmlHttpTimeout); // Process response on case of a successful request.\n\n    if (checkEurope.status === 200) {\n      var country = JSON.parse(checkEurope.responseText).country_code;\n\n      if (cookieLawStates.indexOf(country) > -1) {\n        startup = true;\n      } else {\n        // If the user is outside of EEA, allow cookies and refresh if needed\n        setCookie('cookiestatus', 'allow-cookie');\n      }\n    } // Enforce startup, if the webservice returned an error.\n    else {\n        console.log('error');\n        startup = true;\n      } // Init cookieBAR after geoip localization was finished.\n\n\n    initCookieBar();\n  };\n  /*\n  * Using an external service for geoip localization could be a long task\n  * If it takes more than 1.5 second, start normally\n  */\n\n\n  var xmlHttpTimeout = setTimeout(function () {\n    console.log('cookieBAR - Timeout for ip geolocation'); // Make sure, that checkEurope.onreadystatechange() is not called anymore\n    // in order to avoid possible multiple executions of initCookieBar().\n\n    checkEurope.onreadystatechange = function () {}; // Abort geoip localization.\n\n\n    checkEurope.abort(); // Init cookieBAR after geoip localization was aborted.\n\n    startup = true;\n    initCookieBar();\n  }, 1500);\n  checkEurope.send();\n};","import { setupCookieBar } from './App';\nexport default setupCookieBar;","import initCookieBar from './../lib';\n// Load the script only if there is at least a cookie or a localStorage item\ndocument.addEventListener('DOMContentLoaded', function () {\n    initCookieBar();\n});\n"],"sourceRoot":""}