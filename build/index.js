/*!
 * 
 *   @movetodigital/cookie-bar v0.0.2
 *   https://github.com/movetodigital/cookie-bar.git
 * 
 *   Copyright (c) MoveToDigital
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define("MyLibrary",[],t):"object"===typeof exports?exports.MyLibrary=t():e.MyLibrary=t()}(window,(function(){return function(e){var t={};function __webpack_require__(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,o){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(__webpack_require__.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(o,r,function(t){return e[t]}.bind(null,r));return o},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";function ownKeys(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.r(t);var r=["AT","BE","BG","BR","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],n=!1,fadeOut=function(e,t){var o=e.style;o.opacity=1,function fade(){(o.opacity-=.1)<.1?o.display="none":setTimeout(fade,t/10)}()},getCookie=function(){var e=document.cookie.match(/(;)?cookiestatus=([^;]*);?/);return null==e?void 0:decodeURI(e[2])},setCookie=function(e,t){var o=new Date;o.setDate(o.getDate()+parseInt(30));var r=encodeURI(t)+"; expires="+o.toUTCString()+";path=/";document.cookie=e+"="+r},removeCookies=function(){document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^\ +/,"").replace(/\=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),localStorage&&localStorage.clear()},initCookieBar=function(){(console.log("init cookie bar"),document.cookie.length>0||window.localStorage.length>0)?void 0===getCookie()&&(n=!0):n=!1;if(n){var e=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(o),!0).forEach((function(t){_defineProperty(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({background:"black",color:"white",bottom:0,width:"100%",fontFamily:"system-ui",fontSize:"16px",text:"We use cookies to improve your experience on our site and to show you personalised advertising.",agreeText:"I'm OK with that",disableText:"Disable cookies"},window.cookieBarConfig),t=document.createElement("div");t.innerHTML="<div style='display: flex;align-items: center;justify-content: space-between;padding: 14px'><span>"+e.text+"</span><div style='display: flex;align-items: center;'><button id='cookie-confirm' style='border-radius: 0; background: white; color: black;border: none;padding: 6px 16px 6px 16px; cursor: pointer; margin: 0 6px'>"+e.agreeText+"</button> <a id='cookie-disable' style='border-bottom: 1px solid "+e.color+"; cursor: pointer;'>"+e.disableText+"</a></div></div>",t.style.position="fixed",t.style.background=e.background,t.style.color=e.color,t.style.bottom=e.bottom,t.style.width=e.width,t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("cookie-confirm").addEventListener("click",(function(){setCookie("cookiestatus","allow-cookie"),fadeOut(t,150)})),document.getElementById("cookie-disable").addEventListener("click",(function(){!0===window.confirm("Are you sure that you want to disable cookies?")&&(removeCookies(),setCookie("cookiestatus","disable-cookie"),fadeOut(t,150))}))}};t.default=function(){var e=getCookie();if("disable-cookie"===e&&(removeCookies(),setCookie("cookiestatus","disable-cookie")),void 0===e){var t=new XMLHttpRequest;t.open("GET","https://freegeoip.app/json/",!0),t.onreadystatechange=function(){if(4===t.readyState){if(clearTimeout(o),200===t.status){var e=JSON.parse(t.responseText).country_code;r.indexOf(e)>-1?n=!0:setCookie("cookiestatus","allow-cookie")}else console.log("error"),n=!0;initCookieBar()}};var o=setTimeout((function(){console.log("cookieBAR - Timeout for ip geolocation"),t.onreadystatechange=function(){},t.abort(),n=!0,initCookieBar()}),1500);t.send()}}}])}));
//# sourceMappingURL=index.js.map