{"version":3,"sources":["../../webpack/universalModuleDefinition","../../webpack/bootstrap","App.js","index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cookieLawStates","startup","fadeOut","el","speed","style","opacity","fade","display","setTimeout","getCookie","cookieValue","document","cookie","match","decodeURI","setCookie","exdate","Date","setDate","getDate","parseInt","cValue","encodeURI","toUTCString","removeCookies","split","forEach","replace","localStorage","clear","initCookieBar","console","log","length","undefined","cookieBarConfig","background","color","bottom","width","fontFamily","fontSize","text","agreeText","disableText","element","createElement","innerHTML","position","getElementsByTagName","appendChild","getElementById","addEventListener","confirm","setupCookieBar","currentCookieSelection","checkEurope","XMLHttpRequest","open","onreadystatechange","readyState","clearTimeout","xmlHttpTimeout","status","country","JSON","parse","responseText","country_code","indexOf","abort","send"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"MyLibrary\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MyLibrary\"] = factory();\n\telse\n\t\troot[\"MyLibrary\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*\n * Available languages array\n */\nconst cookieLawStates = [\n    'AT',\n    'BE',\n    'BG',\n    'BR',\n    'CY',\n    'CZ',\n    'DE',\n    'DK',\n    'EE',\n    'EL',\n    'ES',\n    'FI',\n    'FR',\n    'GB',\n    'HR',\n    'HU',\n    'IE',\n    'IT',\n    'LT',\n    'LU',\n    'LV',\n    'MT',\n    'NL',\n    'PL',\n    'PT',\n    'RO',\n    'SE',\n    'SI',\n    'SK'\n];\n\nlet startup = false;\n\n/**\n * FadeOut effect\n * @param {HTMLElement} el - Element\n * @param {number} speed - effect duration\n * @return null\n */\nconst fadeOut = (el, speed) => {\n    const s = el.style;\n    s.opacity = 1;\n    (function fade() {\n        (s.opacity -= 0.1) < 0.1 ? s.display = 'none' : setTimeout(fade, (speed / 10));\n    })();\n};\n\n/**\n * Get MoveToDigital Cookie Bar cookie if available\n * @return {string} cookie value\n */\nconst getCookie = () => {\n    const cookieValue = document.cookie.match(/(;)?cookiestatus=([^;]*);?/);\n\n    if (cookieValue == null) {\n        return undefined;\n    } else {\n        return decodeURI(cookieValue[2]);\n    }\n};\n/**\n * Write MoveToDigital Cookie Bar's cookie when user accepts cookies :)\n * @param {string} name - cookie name\n * @param {string} value - cookie value\n * @return null\n */\nconst setCookie = (name, value) => {\n    const exdays = 30;\n\n    const exdate = new Date();\n    exdate.setDate(exdate.getDate() + parseInt(exdays));\n    const cValue = encodeURI(value) + ((exdays === null) ? '' : '; expires=' + exdate.toUTCString() + ';path=/');\n    document.cookie = name + '=' + cValue;\n};\n\n/**\n * Remove all the cookies and empty localStorage when user refuses cookies\n * @return null\n */\nconst removeCookies = () => {\n    // Clear cookies\n    document.cookie.split(';').forEach(function(c) {\n        document.cookie = c.replace(/^\\ +/, '').replace(/\\=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\n    });\n\n    // Clear localStorage\n    localStorage && localStorage.clear();\n};\n\n/**\n * Render cookie bar <div> component\n * @return null\n */\nconst initCookieBar = () => {\n    console.log('init cookie bar');\n    // If at least a cookie or localstorage is set, then STARTUP\n    if (document.cookie.length > 0 || window.localStorage.length > 0) {\n        const accepted = getCookie();\n        if (accepted === undefined) {\n            startup = true;\n        }\n    } else {\n        startup = false;\n    }\n\n    if (!startup) {\n        return\n    }\n\n    const cookieBarConfig = {\n        background: 'black',\n        color: 'white',\n        bottom: 0,\n        width: '100%',\n        fontFamily: 'system-ui',\n        fontSize: '16px',\n        text: 'We use cookies to improve your experience on our site and to show you personalised advertising.',\n        agreeText: 'I\\'m OK with that',\n        disableText: 'Disable cookies',\n        ...window.cookieBarConfig,\n    };\n\n    var element = document.createElement('div');\n\n    // \" To find out more, read our <a style='border-bottom: 1px solid \" + cookieBarConfig.color + \"; cursor: pointer;'>privacy policy</a> and <a style='border-bottom: 1px solid \" + cookieBarConfig.color + \"; cursor: pointer;'>cookie policy</a>.\"\n    element.innerHTML = \"\" +\n        \"<div style='display: flex;align-items: center;justify-content: space-between;padding: 14px'>\" +\n        \"<span>\" + cookieBarConfig.text  +\n        \"</span>\" +\n        \"<div style='display: flex;align-items: center;'>\" +\n        \"<button id='cookie-confirm' style='border-radius: 0; background: white; color: black;border: none;padding: 6px 16px 6px 16px; cursor: pointer; margin: 0 6px'>\" +\n        cookieBarConfig.agreeText +\n        \"</button>\" +\n        \" <a id='cookie-disable' style='border-bottom: 1px solid \" + cookieBarConfig.color + \"; cursor: pointer;'>\" + cookieBarConfig.disableText + \"</a>\" +\n        \"</div>\" +\n        \"</div>\";\n\n    element.style.position = 'fixed';\n    element.style.background = cookieBarConfig.background;\n    element.style.color = cookieBarConfig.color;\n    element.style.bottom = cookieBarConfig.bottom;\n    element.style.width = cookieBarConfig.width;\n    element.style.fontFamily = cookieBarConfig.fontFamily;\n    element.style.fontSize = cookieBarConfig.fontSize;\n    document.getElementsByTagName('body')[0].appendChild(element);\n\n    const confirmButton = document.getElementById('cookie-confirm');\n    confirmButton.addEventListener('click', function() {\n        setCookie('cookiestatus', 'allow-cookie');\n        fadeOut(element, 150);\n    });\n\n    const disableButton =  document.getElementById('cookie-disable');\n    disableButton.addEventListener('click', function() {\n        var txt = 'Are you sure that you want to disable cookies?';\n        var confirm = window.confirm(txt);\n        if (confirm === true) {\n            removeCookies();\n            setCookie('cookiestatus', 'disable-cookie');\n            fadeOut(element, 150);\n        }\n    });\n};\n\n/**\n * Initial cookie script\n * @return null\n */\nexport const setupCookieBar = () => {\n\n    // Get the users current cookie selection\n    const currentCookieSelection = getCookie();\n\n    /**\n     * If cookies are disallowed, delete all the cookies at every refresh\n     * @param null\n     * @return null\n     */\n    // eslint-disable-next-line eqeqeq\n    if (currentCookieSelection === 'disable-cookie') {\n        removeCookies();\n        setCookie('cookiestatus', 'disable-cookie');\n    }\n\n    // Stop further execution,\n    // if the user already allowed / disallowed cookie usage.\n    if (currentCookieSelection !== undefined) {\n        return;\n    }\n\n    // If the user is in EU, then STARTUP\n    let checkEurope = new XMLHttpRequest();\n    checkEurope.open('GET', 'https://freegeoip.app/json/', true);\n    checkEurope.onreadystatechange = function() {\n        // Don't process anything else besides finished requests.\n        if (checkEurope.readyState !== 4) {\n            return;\n        }\n\n        // Immediately clear timeout handler in order to avoid multiple executions.\n        clearTimeout(xmlHttpTimeout);\n\n        // Process response on case of a successful request.\n        if (checkEurope.status === 200) {\n            const country = JSON.parse(checkEurope.responseText).country_code;\n            if (cookieLawStates.indexOf(country) > -1) {\n                startup = true;\n            } else {\n                // If the user is outside of EEA, allow cookies and refresh if needed\n                setCookie('cookiestatus', 'allow-cookie');\n            }\n        } // Enforce startup, if the webservice returned an error.\n        else {\n            console.log('error');\n            startup = true;\n        }\n\n        // Init cookieBAR after geoip localization was finished.\n        initCookieBar();\n    };\n\n    /*\n    * Using an external service for geoip localization could be a long task\n    * If it takes more than 1.5 second, start normally\n    */\n    let xmlHttpTimeout = setTimeout(function () {\n        console.log('cookieBAR - Timeout for ip geolocation');\n\n        // Make sure, that checkEurope.onreadystatechange() is not called anymore\n        // in order to avoid possible multiple executions of initCookieBar().\n        checkEurope.onreadystatechange = function() {};\n\n        // Abort geoip localization.\n        checkEurope.abort();\n\n        // Init cookieBAR after geoip localization was aborted.\n        startup = true;\n        initCookieBar();\n    }, 1500);\n\n    checkEurope.send();\n};\n\n\n","import {setupCookieBar} from './App';\nexport default setupCookieBar;\n"],"sourceRoot":""}